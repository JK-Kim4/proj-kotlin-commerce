# [요구사항 분석] 이커머스 - kotlin 


: 상품을 조회하고 주문, 결제가 가능한 전자 상거래 API 서비스

### 요구 사항

<span style="color:green">(초록 글씨는 요구사항에서 파생된 정책을 의미)</span>
- **사용자**는 **포인트**를 충전할 수 있다.
    - <span style="color:green">최대 충전 가능 포인트 금액은 1,000,000원이다.
    - <span style="color:green">최대 보유 가능 포인트 금액은 100,000,000원이다.
- 사용자는 판매중인 **상품** 목록을 조회할 수 있다.
- 사용자는 판매중인 상품의 상세 정보를 조회할 수 있다.

- 사용자는 구매 가능한 상품을 장바구니에 추가할 수 있다.
  - <span style="color:green">한명의 사용자는 하나의 장바구니만 가질 수 있다.</span>
- 사용자는 장바구니에 추가된 상품 목록으로 주문서를 생성할 수 있다.
- 사용자는 단일 상품에 대해 장바구니를 생성하지 않고 바로 주문할 수 있다.
- 사용자는 구매 가능한 상품을 1개 이상 선택하여 **주문** 할 수 있다.
    - 주문이 완료되면 **주문서**가 생성된다.
    - <span style="color:green">생성된 주문서는 24시간 내 **결제**가 진행되어야 하며 미결제 시 주문이 취소된다.</span>
    - 주문은 상태 정보를 가진다
    - <span style="color:green">미결제 상태의 주문이 존재할 경우 새로운 주문을 생성할 수 없다.</span>
- 사용자 포인트 잔액이 주문서 주문 금액보다 많을 경우 **결제**를 진행할 수 있다.
    - 결제가 완료되면 사용자 포인트가 차감된다.
- 사용자는 주문 총액을 기준으로 금액 할인이 가능한 **할인 쿠폰**을 보유할 수 있다.
    - <span style="color:green">쿠폰은 사용 기간 정보를 포함하며 만료 여부를 확인할 수 있다.</span>
- **할인 쿠폰**은 발급이 유효한 경우 사용자에게 1개까지 발급할 수 있다.
- 주문서 생성 시 할인 쿠폰을 적용하면 할인 금액 혹은 비율이 적용된 최종 금액을 계산할 수 있다.

### 추가 정책

- <span style="color:green">최종 구매가 결정된 상품에 대한 정보를 저장해야한다.</span>
- <span style="color:green">최종 결제 금액의 10%에 해당하는 부가세 정보를 주문 정보와 함께 관리해야한다.</span>
- <span style="color:green">모든 delete 처리는 soft delete로 처리된다.</span>

---